# 📱 MeshKit - 跨平台使用指南

本指南将帮助你在不同设备上使用MeshDrop文件快传工具。

## 🎯 支持的设备

✅ **完全支持：**
- 📱 iPhone / iPad (iOS 13+)
- 🤖 Android 手机和平板
- 💻 Mac (macOS)
- 🖥️ Windows PC
- 🐧 Linux

## 🚀 快速开始

### 1. 启动服务器

在任意设备（通常是电脑）上启动服务器：

```bash
cd p2p_claude
npm start
```

服务器会显示访问地址，例如：
```
http://192.168.1.100:8000
```

### 2. 连接到同一WiFi

**重要：** 所有设备必须连接到同一个WiFi网络！

### 3. 访问应用

在任何设备的浏览器中打开服务器显示的地址。

---

## 📱 iOS设备使用指南

### iPhone / iPad

#### 访问应用
1. 打开 Safari 浏览器
2. 输入地址：`http://[服务器IP]:8000`
3. 等待页面加载完成

#### 添加到主屏幕（推荐）
1. 点击底部分享按钮 📤
2. 选择"添加到主屏幕"
3. 点击"添加"
4. 现在可以像原生App一样使用了！

#### 发送文件
1. 切换到"📤 发送"标签
2. 点击"选择文件"
3. 从以下位置选择：
   - 📷 照片库
   - 📁 文件（iCloud云盘）
   - 📄 最近使用的文件
4. 选择目标设备
5. 点击"发送文件"

#### 接收和保存文件
1. 切换到"📥 接收"标签
2. 等待接收完成
3. 点击"⬇️ 点击下载文件"
4. **重要步骤：**
   - 会打开新页面显示文件
   - **长按文件**
   - 选择"存储到文件"或"共享"
   - 选择保存位置（推荐iCloud云盘）

#### iOS限制说明
- ⚠️ Safari不支持直接下载到"下载"文件夹
- ✅ 必须使用"存储到文件"功能
- ✅ 可以保存到iCloud云盘、本地等位置
- ✅ 图片可以直接保存到相册

---

## 💻 Mac使用指南

### 访问方式
1. 打开任意浏览器（Safari、Chrome、Edge等）
2. 输入：`http://localhost:8000`（本机）
3. 或输入：`http://[服务器IP]:8000`（其他设备）

### 发送文件
1. 点击选择文件区域
2. 或直接**拖拽文件**到选择区域
3. 选择目标设备
4. 点击发送

### 接收文件
1. 等待接收完成
2. 点击下载按钮
3. 文件自动保存到"下载"文件夹

### 快捷方式
- `⌘ + Tab`：切换应用
- 拖拽文件到浏览器窗口：快速选择文件

---

## 🤖 Android设备使用指南

### 访问应用
1. 打开Chrome或任意浏览器
2. 输入地址：`http://[服务器IP]:8000`
3. 建议添加书签以便快速访问

### 添加到主屏幕
1. 点击浏览器菜单 (⋮)
2. 选择"添加到主屏幕"
3. 确认添加

### 发送文件
1. 点击"选择文件"
2. 从以下位置选择：
   - 📷 相册
   - 📁 文件管理器
   - ☁️ Google Drive等云存储
3. 选择目标设备发送

### 接收文件
1. 等待接收完成
2. 点击下载按钮
3. 文件保存到"下载"文件夹
4. 可在通知栏查看下载进度

---

## 🖥️ Windows / Linux使用指南

### 访问应用
1. 打开浏览器（Chrome、Edge、Firefox等）
2. 输入：`http://localhost:8000`（本机）
3. 或输入：`http://[服务器IP]:8000`（其他设备）

### 发送文件
- 方式1：点击选择文件
- 方式2：**直接拖拽**文件到浏览器

### 接收文件
- 文件自动下载到浏览器默认下载文件夹

---

## 🔧 常见问题

### ❓ 找不到其他设备？

**检查清单：**
1. ✅ 所有设备连接到同一WiFi
2. ✅ 防火墙允许8000端口
3. ✅ 页面显示"✅ 已连接"
4. ✅ 刷新页面重试

**解决方法：**
```bash
# Mac/Linux检查防火墙
sudo ufw allow 8000

# Windows检查防火墙
# 控制面板 -> Windows Defender防火墙 -> 允许应用
```

### ❓ iOS无法下载文件？

这不是Bug，是iOS的安全限制：

**正确操作：**
1. 点击下载按钮（会打开新页面）
2. **长按文件**（不是点击）
3. 选择"存储到文件"
4. 选择保存位置

### ❓ 传输速度慢？

**优化建议：**
1. 确保WiFi信号良好
2. 关闭其他占用网络的应用
3. 使用5GHz WiFi（如果支持）
4. 减少设备间距离

**预期速度：**
- 良好WiFi：20-50 MB/s
- 普通WiFi：5-20 MB/s
- 弱信号：< 5 MB/s

### ❓ 连接断开？

**原因：**
- 设备休眠
- WiFi切换
- 浏览器后台

**解决：**
- 保持屏幕常亮
- 不要切换WiFi
- 保持应用在前台

### ❓ Mac无法访问localhost？

**尝试：**
```bash
# 使用本机IP地址
http://127.0.0.1:8000

# 或查看实际IP
ifconfig | grep "inet "
```

### ❓ iPad当作电脑识别？

这是正常的！iPad可能被识别为"💻电脑"或"📱手机"，不影响使用。

---

## 💡 使用技巧

### 1. 快速传图片（iPhone → Mac）
```
1. iPhone选择照片
2. Mac接收
3. Mac下载到"下载"文件夹
4. 直接拖到Photoshop/预览
```

### 2. 传大文件（视频、压缩包）
```
- 支持任意大小文件
- 自动分块传输
- 实时显示速度
- 断点续传（手动重试）
```

### 3. 多设备批量传输
```
1. 电脑开启服务器
2. 多个手机同时连接
3. 轮流发送文件
4. 效率极高！
```

### 4. 临时文件共享
```
- 不需要USB数据线
- 不需要云存储
- 不消耗流量
- 完全本地传输
```

---

## 🔒 隐私和安全

### ✅ 数据安全
- 所有数据仅在局域网传输
- 不经过互联网
- 不上传到任何服务器
- 传输完成后数据自动清除

### ✅ 连接安全
- 仅限同一WiFi设备
- 不暴露到公网
- 可选启用防火墙限制

### ⚠️ 注意事项
- 公共WiFi谨慎使用
- 传输敏感文件建议关闭WiFi其他设备
- 服务器关闭后所有连接自动断开

---

## 🎨 界面说明

### 连接状态
- ✅ 已连接：正常工作
- ⚠️ 未连接：检查服务器和网络

### 设备名称
- 📱手机-XXXX：移动设备
- 💻电脑-XXXX：桌面设备
- 可点击修改设备名称

### 传输进度
- 实时显示传输速度
- 预估剩余时间
- 进度条直观显示

---

## 🆘 需要帮助？

### 技术支持
- 查看服务器日志
- 打开浏览器控制台（F12）
- 查看错误信息

### 调试模式
在浏览器控制台输入：
```javascript
// 启用详细日志
P2PConfig.set('debug.enabled', true);

// 查看应用状态
console.log(P2PApp.getStatus());

// 下载日志
P2PLogger.download('text');
```

### 报告问题
提供以下信息：
1. 设备型号和系统版本
2. 浏览器版本
3. 错误截图
4. 控制台日志

---

## 🚀 高级功能（即将推出）

- [ ] 多文件批量传输
- [ ] 文件加密传输
- [ ] 压缩传输（节省时间）
- [ ] 聊天功能
- [ ] 剪贴板共享
- [ ] 历史记录

---

## 📞 联系我们

如有问题或建议，请通过以下方式联系：
- GitHub Issues
- Email

---

**祝你使用愉快！🎉**
